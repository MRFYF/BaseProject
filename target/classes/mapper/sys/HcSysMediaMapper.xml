<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.cxyfyf.base.mapper.HcSysMediaMapper">

    <resultMap type="cn.cxyfyf.base.domain.SysMedia" id="HcSysMediaResult">
        <result property="id" column="ID"/>
        <result property="originName" column="ORIGIN_NAME"/>
        <result property="fileName" column="FILE_NAME"/>
        <result property="mediaType" column="MEDIA_TYPE"/>
        <result property="md5" column="MD5"/>
        <result property="size" column="SIZE"/>
        <result property="fileUrl" column="FILE_URL"/>
        <result property="valid" column="VALID"/>
        <result property="remark" column="REMARK"/>
        <result property="createBy" column="CREATE_BY"/>
        <result property="createTime" column="CREATE_TIME"/>
        <result property="updateBy" column="UPDATE_BY"/>
        <result property="updateTime" column="UPDATE_TIME"/>
    </resultMap>

    <sql id="sqlAll">
         ID, ORIGIN_NAME, FILE_NAME, MEDIA_TYPE, MD5, SIZE, FILE_URL, VALID, REMARK, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME    </sql>
    <sql id="tableName">
      hc_sys_media
    </sql>

    <select id="selectHcSysMediaList" parameterType="cn.cxyfyf.base.domain.SysMedia" resultMap="HcSysMediaResult">
        select
        <include refid="sqlAll"/>
        from
        <include refid="tableName"/>
        <where>
            <if test="originName != null  and originName != ''">and ORIGIN_NAME like concat('%', #{originName}, '%')
            </if>
            <if test="fileName != null  and fileName != ''">and FILE_NAME like concat('%', #{fileName}, '%')</if>
            <if test="mediaType != null  and mediaType != ''">and MEDIA_TYPE = #{mediaType}</if>
            <if test="md5 != null  and md5 != ''">and MD5 = #{md5}</if>
            <if test="size != null ">and SIZE = #{size}</if>
            <if test="fileUrl != null  and fileUrl != ''">and FILE_URL = #{fileUrl}</if>
            <if test="valid != null ">and VALID = #{valid}</if>
            <if test="remark != null  and remark != ''">and REMARK = #{remark}</if>
            <if test="createBy != null  and createBy != ''">and CREATE_BY = #{createBy}</if>
            <if test="createTime != null ">and CREATE_TIME = #{createTime}</if>
            <if test="updateBy != null  and updateBy != ''">and UPDATE_BY = #{updateBy}</if>
            <if test="updateTime != null ">and UPDATE_TIME = #{updateTime}</if>
        </where>
    </select>

    <select id="findByMd5" resultMap="HcSysMediaResult">
        SELECT
            a.*
        FROM
            hc_sys_media AS a
        WHERE
            a.MD5 = #{fileMD5}
    </select>

</mapper>